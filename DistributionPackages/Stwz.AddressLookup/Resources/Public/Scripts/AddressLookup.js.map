{
  "version": 3,
  "sources": ["../../Private/Fusion/AddressLookup.js"],
  "sourcesContent": ["document.addEventListener('alpine:init', () => {\n    Alpine.data('addresslookup', () => ({\n        \n        url: document.getElementById('addressLookup').dataset.url,\n        fatal: false,\n        error: false,\n        success: false,\n        loading: false,\n        response: '',\n        \n        address: {\n            city: 'Zofingen',\n            country: '',\n            zip_code: '4800',\n            streetname: '',\n            house_number: '',\n            house_number_suffix: ''\n        },\n\n        validation: {\n            city: '',\n            street: '',\n            house_number: '',\n            required: {\n                message: 'Pflichtfeld'\n            }\n        },\n        \n        validate(field) {\n\n        },\n\n        check() {\n            if (!this.address.city.length){ this.validation.city = this.validation.required.message; } \n            if (!this.address.streetname.length){ this.validation.streetname = this.validation.required.message; } \n            if (!this.address.house_number.length){ this.validation.house_number = this.validation.required.message; return; } \n\n            this.loading = true;\n            console.log(this.url);\n            fetch(\n                this.url   +'?streetname='+ this.address.streetname \n                           +'&zip='+ this.address.zip_code \n                           +'&city='+ this.address.city \n                           +'&country='+ this.address.country\n                           +'&houseNumber='+ this.address.house_number \n                           +'&houseNumberSuffix='+ this.address.house_number_suffix\n                    ,{\n                        method: 'GET', \n                        headers: { 'Content-Type': 'application/json'}\n                    })\n                    .then(response => response.json())\n                    .then(data => {\n                        if(data.status == 'success'){\n                            this.loading = false;\n                            this.success = true;\n                            this.error = !this.success;\n                            let event = new CustomEvent('addresslookup-success', {});\n                            window.dispatchEvent(event);\n                        }else{\n                            this.loading = false;\n                            this.success = false;\n                            this.error = !this.success;\n                            let event = new CustomEvent('addresslookup-error', {});\n                            window.dispatchEvent(event);\n                        }\n                        return data;\n                    })\n                    .catch(error => {\n                        this.loading = false;\n                        return error;\n                    });\n        },\n\n            \n    }))\n  });"],
  "mappings": "MAAA,SAAS,iBAAiB,cAAe,IAAM,CAC3C,OAAO,KAAK,gBAAiB,IAAO,EAEhC,IAAK,SAAS,eAAe,eAAe,EAAE,QAAQ,IACtD,MAAO,GACP,MAAO,GACP,QAAS,GACT,QAAS,GACT,SAAU,GAEV,QAAS,CACL,KAAM,WACN,QAAS,GACT,SAAU,OACV,WAAY,GACZ,aAAc,GACd,oBAAqB,EACzB,EAEA,WAAY,CACR,KAAM,GACN,OAAQ,GACR,aAAc,GACd,SAAU,CACN,QAAS,aACb,CACJ,EAEA,SAAS,EAAO,CAEhB,EAEA,OAAQ,CAGJ,GAFK,KAAK,QAAQ,KAAK,QAAS,MAAK,WAAW,KAAO,KAAK,WAAW,SAAS,SAC3E,KAAK,QAAQ,WAAW,QAAS,MAAK,WAAW,WAAa,KAAK,WAAW,SAAS,SACxF,CAAC,KAAK,QAAQ,aAAa,OAAO,CAAE,KAAK,WAAW,aAAe,KAAK,WAAW,SAAS,QAAS,MAAQ,CAEjH,KAAK,QAAU,GACf,QAAQ,IAAI,KAAK,GAAG,EACpB,MACI,KAAK,IAAO,eAAgB,KAAK,QAAQ,WAC7B,QAAS,KAAK,QAAQ,SACtB,SAAU,KAAK,QAAQ,KACvB,YAAa,KAAK,QAAQ,QAC1B,gBAAiB,KAAK,QAAQ,aAC9B,sBAAuB,KAAK,QAAQ,oBAC3C,CACG,OAAQ,MACR,QAAS,CAAE,eAAgB,kBAAkB,CACjD,CAAC,EACA,KAAK,GAAY,EAAS,KAAK,CAAC,EAChC,KAAK,GAAQ,CACV,GAAG,EAAK,QAAU,UAAU,CACxB,KAAK,QAAU,GACf,KAAK,QAAU,GACf,KAAK,MAAQ,CAAC,KAAK,QACnB,GAAI,GAAQ,GAAI,aAAY,wBAAyB,CAAC,CAAC,EACvD,OAAO,cAAc,CAAK,CAC9B,KAAK,CACD,KAAK,QAAU,GACf,KAAK,QAAU,GACf,KAAK,MAAQ,CAAC,KAAK,QACnB,GAAI,GAAQ,GAAI,aAAY,sBAAuB,CAAC,CAAC,EACrD,OAAO,cAAc,CAAK,CAC9B,CACA,MAAO,EACX,CAAC,EACA,MAAM,GACH,MAAK,QAAU,GACR,EACV,CACb,CAGJ,EAAE,CACJ,CAAC",
  "names": []
}

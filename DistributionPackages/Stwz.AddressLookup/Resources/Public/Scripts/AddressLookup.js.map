{
  "version": 3,
  "sources": ["../../Private/Fusion/AddressLookup.js"],
  "sourcesContent": ["document.addEventListener('alpine:init', () => {\n    Alpine.data('addresslookup', () => ({\n        \n        url: document.getElementById('addressLookup').dataset.url,\n        fatal: false,\n        error: false,\n        success: false,\n        loading: false,\n        response: '',\n\n        isReady: false,\n        rfcu_date: '',\n        rfcu_ready: '',\n        rollout_status: '',\n        acquisiton_status: '',\n        \n        user: {\n            first_name: '',\n            last_name: '',\n            email: ''\n        },\n\n        address: {\n            city: 'Zofingen',\n            country: '',\n            zip_code: '4800',\n            streetname: '',\n            house_number: '',\n            house_number_suffix: ''\n        },\n\n        validation: {\n            city: '',\n            street: '',\n            house_number: '',\n            required: {\n                message: 'Pflichtfeld'\n            }\n        },\n        \n        validate(field) {\n\n        },\n\n        check() {\n            if (!this.address.city.length){ this.validation.city = this.validation.required.message; } \n            if (!this.address.streetname.length){ this.validation.streetname = this.validation.required.message; } \n            if (!this.address.house_number.length){ this.validation.house_number = this.validation.required.message; return; } \n\n            this.loading = true;\n            console.log(this.url);\n            fetch(\n                this.url   +'?streetname='+ this.address.streetname \n                           +'&zip='+ this.address.zip_code \n                           +'&city='+ this.address.city \n                           +'&country='+ this.address.country\n                           +'&houseNumber='+ this.address.house_number \n                           +'&houseNumberSuffix='+ this.address.house_number_suffix\n                    ,{\n                        method: 'GET', \n                        headers: { 'Content-Type': 'application/json'}\n                    })\n                    .then(response => response.json())\n                    .then(data => {\n                        this.rfcu_date = data.data[0]['rfcu_date'],\n                        this.rfcu_ready = data.data[0]['rfcu_ready'],\n                        this.rollout_status = data.data[0]['rollout_status'],\n                        this.acquisiton_status = data.data[0]['acquisiton_status'];\n                        \n                        var today  = new Date();\n                        var objDate = new Date(this.rfcu_date);\n                        \n                        console.log(today.getTime());\n                        console.log(objDate.getTime());\n                        console.log(data.data[0]['rfcu_date']);\n                        if(objDate != 'null' && today.getTime() > objDate.getTime() && objDate.getTime() > 0){\n                            console.log(today.getTime());\n                            console.log(objDate.getTime());\n                            this.isReady = true;  \n                            console.log('Today is great!');\n                        }else{\n                            this.isReady = false;\n                            console.log('Today is not great!');\n                        }\n                        if(data.status == 'success' && this.isReady){\n                            this.loading = false;\n                            this.success = true;\n                            // this.success = false;\n                            this.error = !this.success;\n                            let event = new CustomEvent('addresslookup-success', {});\n                            window.dispatchEvent(event);\n                        }else{\n                            this.loading = false;\n                            this.success = false;\n                            this.error = !this.success;\n                            let event = new CustomEvent('addresslookup-error', {});\n                            window.dispatchEvent(event);\n                        }\n                        return data;\n                    })\n                    .catch(error => {\n                        // could be a custom message \n                        this.loading = false;\n                        this.success = false;\n                        this.error = !this.success;\n                        let event = new CustomEvent('addresslookup-error', {});\n                        window.dispatchEvent(event);\n                        return error;\n                    });\n        },\n\n            \n    }))\n  });"],
  "mappings": "MAAA,SAAS,iBAAiB,cAAe,IAAM,CAC3C,OAAO,KAAK,gBAAiB,IAAO,EAEhC,IAAK,SAAS,eAAe,eAAe,EAAE,QAAQ,IACtD,MAAO,GACP,MAAO,GACP,QAAS,GACT,QAAS,GACT,SAAU,GAEV,QAAS,GACT,UAAW,GACX,WAAY,GACZ,eAAgB,GAChB,kBAAmB,GAEnB,KAAM,CACF,WAAY,GACZ,UAAW,GACX,MAAO,EACX,EAEA,QAAS,CACL,KAAM,WACN,QAAS,GACT,SAAU,OACV,WAAY,GACZ,aAAc,GACd,oBAAqB,EACzB,EAEA,WAAY,CACR,KAAM,GACN,OAAQ,GACR,aAAc,GACd,SAAU,CACN,QAAS,aACb,CACJ,EAEA,SAAS,EAAO,CAEhB,EAEA,OAAQ,CAGJ,GAFK,KAAK,QAAQ,KAAK,QAAS,MAAK,WAAW,KAAO,KAAK,WAAW,SAAS,SAC3E,KAAK,QAAQ,WAAW,QAAS,MAAK,WAAW,WAAa,KAAK,WAAW,SAAS,SACxF,CAAC,KAAK,QAAQ,aAAa,OAAO,CAAE,KAAK,WAAW,aAAe,KAAK,WAAW,SAAS,QAAS,MAAQ,CAEjH,KAAK,QAAU,GACf,QAAQ,IAAI,KAAK,GAAG,EACpB,MACI,KAAK,IAAO,eAAgB,KAAK,QAAQ,WAC7B,QAAS,KAAK,QAAQ,SACtB,SAAU,KAAK,QAAQ,KACvB,YAAa,KAAK,QAAQ,QAC1B,gBAAiB,KAAK,QAAQ,aAC9B,sBAAuB,KAAK,QAAQ,oBAC3C,CACG,OAAQ,MACR,QAAS,CAAE,eAAgB,kBAAkB,CACjD,CAAC,EACA,KAAK,GAAY,EAAS,KAAK,CAAC,EAChC,KAAK,GAAQ,CACV,KAAK,UAAY,EAAK,KAAK,GAAG,UAC9B,KAAK,WAAa,EAAK,KAAK,GAAG,WAC/B,KAAK,eAAiB,EAAK,KAAK,GAAG,eACnC,KAAK,kBAAoB,EAAK,KAAK,GAAG,kBAEtC,GAAI,GAAS,GAAI,MACb,EAAU,GAAI,MAAK,KAAK,SAAS,EAcrC,GAZA,QAAQ,IAAI,EAAM,QAAQ,CAAC,EAC3B,QAAQ,IAAI,EAAQ,QAAQ,CAAC,EAC7B,QAAQ,IAAI,EAAK,KAAK,GAAG,SAAY,EACrC,AAAG,GAAW,QAAU,EAAM,QAAQ,EAAI,EAAQ,QAAQ,GAAK,EAAQ,QAAQ,EAAI,EAC/E,SAAQ,IAAI,EAAM,QAAQ,CAAC,EAC3B,QAAQ,IAAI,EAAQ,QAAQ,CAAC,EAC7B,KAAK,QAAU,GACf,QAAQ,IAAI,iBAAiB,GAE7B,MAAK,QAAU,GACf,QAAQ,IAAI,qBAAqB,GAElC,EAAK,QAAU,WAAa,KAAK,QAAQ,CACxC,KAAK,QAAU,GACf,KAAK,QAAU,GAEf,KAAK,MAAQ,CAAC,KAAK,QACnB,GAAI,GAAQ,GAAI,aAAY,wBAAyB,CAAC,CAAC,EACvD,OAAO,cAAc,CAAK,CAC9B,KAAK,CACD,KAAK,QAAU,GACf,KAAK,QAAU,GACf,KAAK,MAAQ,CAAC,KAAK,QACnB,GAAI,GAAQ,GAAI,aAAY,sBAAuB,CAAC,CAAC,EACrD,OAAO,cAAc,CAAK,CAC9B,CACA,MAAO,EACX,CAAC,EACA,MAAM,GAAS,CAEZ,KAAK,QAAU,GACf,KAAK,QAAU,GACf,KAAK,MAAQ,CAAC,KAAK,QACnB,GAAI,GAAQ,GAAI,aAAY,sBAAuB,CAAC,CAAC,EACrD,cAAO,cAAc,CAAK,EACnB,CACX,CAAC,CACb,CAGJ,EAAE,CACJ,CAAC",
  "names": []
}

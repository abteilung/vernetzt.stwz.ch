(()=>{document.addEventListener("alpine:init",()=>{Alpine.data("addresslookup",()=>({url:document.getElementById("addressLookup").dataset.url,fatal:!1,error:!1,success:!1,loading:!1,response:"",address:{city:"Zofingen",country:"",zip_code:"4800",streetname:"",house_number:"",house_number_suffix:""},validation:{city:"",street:"",house_number:"",required:{message:"Pflichtfeld"}},validate(e){},check(){if(this.address.city.length||(this.validation.city=this.validation.required.message),this.address.streetname.length||(this.validation.streetname=this.validation.required.message),!this.address.house_number.length){this.validation.house_number=this.validation.required.message;return}this.loading=!0,console.log(this.url),fetch(this.url+"?streetname="+this.address.streetname+"&zip="+this.address.zip_code+"&city="+this.address.city+"&country="+this.address.country+"&houseNumber="+this.address.house_number+"&houseNumberSuffix="+this.address.house_number_suffix,{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{if(e.status=="success"){this.loading=!1,this.success=!0,this.error=!this.success;let s=new CustomEvent("addresslookup-success",{});window.dispatchEvent(s)}else{this.loading=!1,this.success=!1,this.error=!this.success;let s=new CustomEvent("addresslookup-error",{});window.dispatchEvent(s)}return e}).catch(e=>(this.loading=!1,e))}}))});})();
//# sourceMappingURL=AddressLookup.js.map
